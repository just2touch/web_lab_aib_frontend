# Лабораторная работа №2. Инструменты разработчика в браузере

## Задание №1. Исследование заголовков и тела обычных запросов и их ответов

### 1. Что означает каждый из этих заголовков?

- `Request URL: https://ya.ru/` - URL-адрес ресурса, который запрашивается или отправляется на сервер
- `Request Method: GET` - способ получения HTTP-запроса (Метод GET запрашивает представление указанного ресурса. Запросы с использованием GET должны получать только данные)
- `Status Code: 200 OK` - показывает, был ли выполнен успешно HTTP-запрос (200 - запрос успешно выполнен, 404 - страница не найдена)
- `Remote Address: 77.88.55.242:443` - это IP адрес удаленного сервера, к которому сервер, либо пытается подключиться либо это IP адрес источника на машине, которая пытается подключиться к серверу в случае входящего доступа
- `Referrer Policy: no-referrer-when-downgrade` - пределяет содержание информации о реферере, указываемой в заголовке referer (в нашем случае - браузер не будет отправлять информацию о исходной странице, с которой был осуществлен переход, при переходе с HTTPS на HTTP (полезно для сохранение конфедициальности))
- `content-type: text/html; charset=UTF-8` - заголовок показывает, в каком формате будут передаваться данные в теле запроса или ответа, а также кодировку
- `cache-control: no-cache,no-store,max-age=0,must-revalidate` - это HTTP-заголовок, который определяет поведение браузера при кэшировании информации о странице
- `cookie` - фрагмент данных, который отправляется сервером и хранится на ПК
- `user-agent` - строка, с помощью которой сервер может определить тип приложения, ОС откуда отправляется запрос
- `referer: https://github.com/just2touch/web_lab_aib_frontend/blob/main/labs/Lab_02_Browsers_DevTools/Task.md` - адрес запроса, например, адрес предыдущей страницы или адрес загруженного изображения (в нашем случае - ссылка гита, откуда мы перешли по ссылку на яндекс)

### 2. Из каких частей состоит Remote Address?

Remote Address состоит из IP адреса и порта. Они разделены двоеточием. Например, в нашем случае IP адрес это `77.88.55.242`, а порт - `443`. Вместе: `77.88.55.242:443`.

__IP адрес__ - это уникальный адрес, идентифицирующий устройство в интернете или локальной сети.

__Порт__ - это идентификатор процесса, к которому серверу или ПК стоит отправить запрос.

### 3. Что означает порт подключения? — опишите как вы это понимаете своими словами

Если представить, запрос - это клиент, который хочет купить себе машину, то IP адрес будет адресом автосалона, а порт - конкретный номер машины, которую он хочет. В компьютере, который помечен определённым IP, есть множество процессов и порт определяет какой именно процесс нужен запросу (клиенту).

### 4. На какие секции разделены все заголовки? Какой смысл у каждой секции?

В нашем случае заголовки разделены на 3 секции:

- __General__ - используются любые сообщения клиента и сервера, здесь содержится общая информация о запросе
- __Response Headers__ (заголовки ответа) - только ответы сервера, содержит информацию о ответе, который нужно получить
- __Request Headers__ (заголовки запроса) - только запросы клиента, содержит больше информации о ресурсе, который нужно получить, или о клиенте, запрашивающем ресурс

### 5. Какие заголовки повторяются в нескольких секциях? Какой в этом смысл?

~~Как я понял, из-за особенностей браузера у меня не отображались повторяющиеся заголовки, разве что похожие заголовки были:~~

В __General__ и __Request Headers__ повторялись `:method: GET` и `Request Method: GET`, так как в __General__ находится общая информация запроса, поэтому она может повторятся в полном описании запроса.

Повторения не было так как браузер уже брал информацию из сохранённого кэша. Я отключил кэш поставив галочку на Disable cache и увидел повторяющиеся заголовки __Cache-Control__ в заголовках ответа и запроса, так как я указал в запросе чтобы кэша не сохранялся.

### 6. Что из себя представляет тело ответа?

Тело ответа зависит от типа информации, которую запрашивает клиент. В данном случае клиент запрашивает `content-type: text/html; charset=UTF-8`, то есть html страницу в кодировке UTF-8.

## Задание №2. Исследование указывающих ответов сервера

### 1. Из-за чего произошло изменение адреса в адресной строке? Какие заголовки в этом поучаствовали и как?

Изменение адреса произошло из-за того, что сайт <http://rgups.ru/> использует протокол __HTTPS__ - защищенный протокол, который обеспечивает сохранность данных и защищённость соединения, поэтому запрос перенаправляется на <https://rgups.ru/> с использованием заголовка:

`Location: https://rgups.ru/`

 Данный заголовок указывает URL-адрес ресурса, куда нужно перенаправить запрос. Запрос был перенаправлен после получения ответа статусом __301 Moved Permanently__. Данный статус показывает, что сайт, к которому мы пытаемся обратится, находится на другом адресе.

### 2. Адрес был изменён в исходном запросе или потребовались дополнительные запросы, если были дополнительные запросы, то сколько?

Понадобился дополнительный запрос типа GET на <https://rgups.ru/>.

### 3. Какой статус ответа имеет первоначальный запрос?

301 Moved Permanently.

## Задание №3. Исследование получения и передачи cookie

Заголовок `Set-Cookie` отвечает за отправку куки с сервера в браузер.

Формат `Set-Cookie`: имя_куки = значение; expires = дата; path = директория; domain = домен; secure; HttpOnly; SameSite = стратегия(none, lax, strict)

Заголовок `Cookie` отвечает за то, чтобы сохранённые куки браузер возвращал на сервер.

Формат `Cookie`: имя_куки1 = значение; имя_куки2 = значение;

### 1. Перечислите название этих параметров и формат данных в них

Параметры Cookie:

- __Name__
- __Value__
- __Domain__
- __Path__
- __Expires / Max-Age__
- __Size__
- __HttpOnly__
- __SameSite__
- __Partition Key__
- __Priority__

### 2. Как можно удобно просмотреть все cookie, используемые на странице? Что означают их параметры Name, Value, Domain, Path и Expires?

Все куки можно посмотреть через вкладку __Application__ или через вкладку __Cookie__ когда мы смотрим информацию о запросе.

- __Name__ - название куки
- __Value__ - данные, содержащиеся в данном куки
- __Domain__ - какой домен имеет доступ к данному куки
- __Path__ - путь к директории на сервере (__/__ - корневой каталог, куки доступен всему домену)
- __Expires / Max-Age__ - срок жизни куки, при истечении срока куки автоматически удаляется (__0__ - куки удаляется при закрытии браузера)

### 3. Как просмотреть все cookie связанные с текущим (просматриваемым) сайтом?

Вкладка __Application__, затем в секции __Storage__ выбираем __Cookies__ и выбираем текущий домен.

### 4. Опишите своими словами как вы понимаете суть и назначение cookie?

Файлы cookie используются для персонализации опыта пользователя с сайтом. Например, сохраняя данные о том что он уже авторизовался на сайте (не заставляя каждый раз заново вводить логин, пароль и т. д.), да и в целом для сохранения данных о посещении сайта пользователем.

## Задание №4. Исследование построения документов и сопутствующих запросов

### 1. Что такое DOM? — Опишите своими словами

DOM расшифровыется как __"Document Object Model" - объектная модель документа__. Это программный интерфейс (шаблон), который определяет как вообще нужно взаимодействовать с документами и объектами. С помощью него мы можем добавлять, удалять или изменять что-то в документе.

### 2. Может ли итоговый документ отличаться от тела ответа, полученного от сервера? Если да, то по каким причинам это может происходить?

Да, может, так как со стороны клиента могут выполняться некие действия по изменению тела документа. Например, скрипт __JavaScript__ или __кэш__, который подгружается уже после загрузки страницы.

### 3. Почему если вы сделали всего один запрос, в списке огромное количество запросов и ответов? Что они из себя представляют и на каком основании браузер их делает?

Это связано с тем, что страницы состоит из множества элементов, которые могут браться с других ресурсов или сервисов. Для каждого из них нужен свой запрос. Например картинки, информация о погоде и т. д.

## Задание №5. Определение параметров запроса

Откройте главный сайт университета <https://www.rgups.ru/services/time/>. Используя инструменты разработчика вкладку Network определить запрос и параметры запроса
позволяющие получить ваше расписание.

### 1. Запрос к какому эндпоинту необходимо выполнить для получения вашего расписания

Необходимо обратиться к `ajax/schedule.php`.

### 2. Что содержится в теле ответа

В теле ответа содержится HTML страница с кодировкой UTF-8.

### 3. Какого типа запрос вы выполнили?

Запрос типа __POST__.

### 4. Какие данные вы использовали для получения расписания

Мы использовали данные, полученные во вкладке Payload:

    action: timetable
    fac-id: 1
    course-id: 3
    group-id: 26463
    edu-type: internal
